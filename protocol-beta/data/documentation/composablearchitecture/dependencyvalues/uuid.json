{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"uuid"},{"kind":"text","text":": "},{"kind":"typeIdentifier","identifier":"doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/ComposableArchitecture\/UUIDGenerator","preciseIdentifier":"s:12Dependencies13UUIDGeneratorV","text":"UUIDGenerator"},{"kind":"text","text":" { "},{"kind":"keyword","text":"get"},{"kind":"text","text":" "},{"kind":"keyword","text":"set"},{"kind":"text","text":" }"}],"languages":["swift"],"platforms":["macOS"]}]},{"kind":"content","content":[{"anchor":"discussion","level":2,"type":"heading","text":"Discussion"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Introduce controllable UUID generation to your reducer by using the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/ComposableArchitecture\/Dependency"},{"type":"text","text":" property"},{"type":"text","text":" "},{"type":"text","text":"wrapper with a key path to this property. The wrapped value is an instance of"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/ComposableArchitecture\/UUIDGenerator"},{"type":"text","text":", which can be called with a closure to create UUIDs. (It can be called"},{"type":"text","text":" "},{"type":"text","text":"directly because it defines "},{"type":"reference","isActive":true,"identifier":"doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/ComposableArchitecture\/UUIDGenerator\/callAsFunction()"},{"type":"text","text":", which is called when you"},{"type":"text","text":" "},{"type":"text","text":"invoke the instance as you would invoke a function.)"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"For example, you could introduce controllable UUID generation to a reducer that creates to-dos"},{"type":"text","text":" "},{"type":"text","text":"with unique identifiers:"}]},{"type":"codeListing","syntax":"swift","code":["struct Todo: Identifiable {","  let id: UUID","  var description: String = \"\"","}","","struct TodosReducer: ReducerProtocol {","  struct State {","    var todos: IdentifiedArrayOf<Todo> = []","  }","","  enum Action {","    case create","  }","","  @Dependency(\\.uuid) var uuid","","  func reduce(into state: inout State, action: Action) -> Effect<Action> {","    switch action {","    case .create:","      state.append(Todo(id: self.uuid())","      return .none","    }","  }","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"By default, a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/ComposableArchitecture\/UUIDGenerator\/live"},{"type":"text","text":" generator is supplied, which returns a random UUID when"},{"type":"text","text":" "},{"type":"text","text":"called by invoking "},{"type":"codeVoice","code":"UUID.init"},{"type":"text","text":" under the hood.  When used from a "},{"type":"codeVoice","code":"TestStore"},{"type":"text","text":", an"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/ComposableArchitecture\/UUIDGenerator\/unimplemented"},{"type":"text","text":" generator is supplied, which additionally calls "},{"type":"codeVoice","code":"XCTFail"},{"type":"text","text":" when"},{"type":"text","text":" "},{"type":"text","text":"invoked."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To test a reducer that depends on UUID generation, you can override its generator using the"},{"type":"text","text":" "},{"type":"codeVoice","code":"Reducer\/dependency(_:_:)"},{"type":"text","text":" modifier to override the underlying "},{"type":"reference","isActive":true,"identifier":"doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/ComposableArchitecture\/UUIDGenerator"},{"type":"text","text":":"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/ComposableArchitecture\/UUIDGenerator\/incrementing"},{"type":"text","text":" for reproducible UUIDs that count up from"},{"type":"text","text":" "},{"type":"codeVoice","code":"00000000-0000-0000-0000-000000000000"},{"type":"text","text":"."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/ComposableArchitecture\/UUIDGenerator\/constant(_:)"},{"type":"text","text":" for a generator that always returns the given UUID."}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"For example, you could test the to-do-creating reducer by supplying an"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/ComposableArchitecture\/UUIDGenerator\/incrementing"},{"type":"text","text":" generator as a dependency:"}]},{"type":"codeListing","syntax":"swift","code":["let store = TestStore(","  initialState: Todos.State()","  reducer: Todos()",")","","store.dependencies.uuid = .incrementing","","store.send(.create) {","  $0.todos = [","    Todo(id: UUID(string: \"00000000-000-0000-0000-000000000000\")!)","  ]","}"]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/composablearchitecture\/dependencyvalues\/uuid"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/ComposableArchitecture\/DependencyValues\/uuid","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"A dependency that generates UUIDs."}],"kind":"symbol","metadata":{"role":"symbol","title":"uuid","roleHeading":"Instance Property","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"uuid"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UUIDGenerator","preciseIdentifier":"s:12Dependencies13UUIDGeneratorV"}],"symbolKind":"property","externalID":"s:12Dependencies16DependencyValuesV4uuidAA13UUIDGeneratorVvp","extendedModule":"Dependencies","modules":[{"name":"ComposableArchitecture"}]},"hierarchy":{"paths":[["doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/Dependencies","doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/ComposableArchitecture\/DependencyValues"]]},"references":{"doc://co.pointfree.ComposableArchitecture/documentation/ComposableArchitecture/UUIDGenerator/incrementing":{"role":"symbol","title":"incrementing","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"incrementing"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UUIDGenerator","preciseIdentifier":"s:12Dependencies13UUIDGeneratorV"}],"abstract":[{"type":"text","text":"A generator that generates UUIDs in incrementing order."}],"identifier":"doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/ComposableArchitecture\/UUIDGenerator\/incrementing","kind":"symbol","type":"topic","url":"\/documentation\/composablearchitecture\/uuidgenerator\/incrementing"},"doc://co.pointfree.ComposableArchitecture/documentation/ComposableArchitecture/DependencyValues/uuid":{"role":"symbol","title":"uuid","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"uuid"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UUIDGenerator","preciseIdentifier":"s:12Dependencies13UUIDGeneratorV"}],"abstract":[{"type":"text","text":"A dependency that generates UUIDs."}],"identifier":"doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/ComposableArchitecture\/DependencyValues\/uuid","kind":"symbol","type":"topic","url":"\/documentation\/composablearchitecture\/dependencyvalues\/uuid"},"doc://co.pointfree.ComposableArchitecture/documentation/ComposableArchitecture/Dependency":{"role":"symbol","title":"Dependency","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Dependency"}],"abstract":[{"type":"text","text":"A property wrapper that exposes dependencies to reducers."}],"identifier":"doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/ComposableArchitecture\/Dependency","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Dependency"}],"url":"\/documentation\/composablearchitecture\/dependency"},"doc://co.pointfree.ComposableArchitecture/documentation/Dependencies":{"role":"collection","title":"Dependencies","abstract":[],"identifier":"doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/Dependencies","kind":"symbol","type":"topic","url":"\/documentation\/dependencies"},"doc://co.pointfree.ComposableArchitecture/documentation/ComposableArchitecture/UUIDGenerator/constant(_:)":{"role":"symbol","title":"constant(_:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"constant"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"UUID","preciseIdentifier":"s:10Foundation4UUIDV"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"UUIDGenerator","preciseIdentifier":"s:12Dependencies13UUIDGeneratorV"}],"abstract":[{"type":"text","text":"A generator that returns a constant UUID."}],"identifier":"doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/ComposableArchitecture\/UUIDGenerator\/constant(_:)","kind":"symbol","type":"topic","url":"\/documentation\/composablearchitecture\/uuidgenerator\/constant(_:)"},"doc://co.pointfree.ComposableArchitecture/documentation/ComposableArchitecture/UUIDGenerator/callAsFunction()":{"role":"symbol","title":"callAsFunction()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"callAsFunction"},{"kind":"text","text":"() -> "},{"kind":"typeIdentifier","text":"UUID","preciseIdentifier":"s:10Foundation4UUIDV"}],"abstract":[],"identifier":"doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/ComposableArchitecture\/UUIDGenerator\/callAsFunction()","kind":"symbol","type":"topic","url":"\/documentation\/composablearchitecture\/uuidgenerator\/callasfunction()"},"doc://co.pointfree.ComposableArchitecture/documentation/ComposableArchitecture/UUIDGenerator/live":{"role":"symbol","title":"live","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"live"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UUIDGenerator","preciseIdentifier":"s:12Dependencies13UUIDGeneratorV"}],"abstract":[{"type":"text","text":"A generator that calls "},{"type":"codeVoice","code":"UUID()"},{"type":"text","text":" under the hood."}],"identifier":"doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/ComposableArchitecture\/UUIDGenerator\/live","kind":"symbol","type":"topic","url":"\/documentation\/composablearchitecture\/uuidgenerator\/live"},"doc://co.pointfree.ComposableArchitecture/documentation/ComposableArchitecture/UUIDGenerator/unimplemented":{"role":"symbol","title":"unimplemented","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"unimplemented"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UUIDGenerator","preciseIdentifier":"s:12Dependencies13UUIDGeneratorV"}],"abstract":[{"type":"text","text":"A generator that calls "},{"type":"codeVoice","code":"XCTFail"},{"type":"text","text":" when it is invoked."}],"identifier":"doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/ComposableArchitecture\/UUIDGenerator\/unimplemented","kind":"symbol","type":"topic","url":"\/documentation\/composablearchitecture\/uuidgenerator\/unimplemented"},"doc://co.pointfree.ComposableArchitecture/documentation/ComposableArchitecture/DependencyValues":{"role":"symbol","title":"DependencyValues","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"DependencyValues"}],"abstract":[{"type":"text","text":"A collection of dependencies propagated through a reducer hierarchy."}],"identifier":"doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/ComposableArchitecture\/DependencyValues","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"DependencyValues"}],"url":"\/documentation\/composablearchitecture\/dependencyvalues"},"doc://co.pointfree.ComposableArchitecture/documentation/ComposableArchitecture/UUIDGenerator":{"role":"symbol","title":"UUIDGenerator","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"UUIDGenerator"}],"abstract":[{"type":"text","text":"A dependency that generates a UUID."}],"identifier":"doc:\/\/co.pointfree.ComposableArchitecture\/documentation\/ComposableArchitecture\/UUIDGenerator","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"UUIDGenerator"}],"url":"\/documentation\/composablearchitecture\/uuidgenerator"}}}